/*
 * This file is part of the TYPO3 CMS project.
 *
 * It is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License, either version 2
 * of the License, or any later version.
 *
 * For the full copyright and license information, please read the
 * LICENSE.txt file that was distributed with this source code.
 *
 * The TYPO3 project - inspiring people to share!
 */
define(["require","exports","jquery","./Enum/Severity","./ActionButton/ActionFactory","./Severity"],function(e,t,a,s,i,n){"use strict";class r{static notice(e,t,a,i){r.showMessage(e,t,s.SeverityEnum.notice,a,i)}static info(e,t,a,i){r.showMessage(e,t,s.SeverityEnum.info,a,i)}static success(e,t,a,i){r.showMessage(e,t,s.SeverityEnum.ok,a,i)}static warning(e,t,a,i){r.showMessage(e,t,s.SeverityEnum.warning,a,i)}static error(e,t,a=0,i){r.showMessage(e,t,s.SeverityEnum.error,a,i)}static showMessage(e,t,r=s.SeverityEnum.info,o=this.duration,c=[]){const l=n.getCssClass(r);let d="";switch(r){case s.SeverityEnum.notice:d="lightbulb-o";break;case s.SeverityEnum.ok:d="check";break;case s.SeverityEnum.warning:d="exclamation";break;case s.SeverityEnum.error:d="times";break;case s.SeverityEnum.info:default:d="info"}o=void 0===o?this.duration:"string"==typeof o?parseFloat(o):o,null!==this.messageContainer&&null!==document.querySelector("#alert-container")||(this.messageContainer=a("<div>",{id:"alert-container"}).appendTo("body"));const u="notification-"+Math.random().toString(36).substr(2,5),f=a('<div id="'+u+'" class="alert alert-'+l+' alert-dismissible fade" role="alert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true"><i class="fa fa-times-circle"></i></span><span class="sr-only">Close</span></button><div class="media"><div class="media-left"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-'+d+' fa-stack-1x"></i></span></div><div class="media-body"><h4 class="alert-title"></h4><p class="alert-message text-pre-wrap"></p></div></div><div class="alert-actions"></div></div>');f.find(".alert-title").text(e),f.find(".alert-message").text(t);const m=f.find(".alert-actions");if(c.length>0)for(let e of c){const t=a("<a />",{href:"#",title:e.label});t.text(e.label),t.on("click",a=>{f.clearQueue(),t.siblings().addClass("disabled");const s=a.currentTarget;s.classList.add("executing"),i.createAction(e.action).execute(s).then(()=>{f.alert("close")})}),m.append(t)}else m.remove();f.on("close.bs.alert",e=>{e.preventDefault();const t=a(e.currentTarget);t.clearQueue().queue(e=>{t.removeClass("in"),e()}).slideUp({complete:()=>{t.remove()}})}),f.appendTo(this.messageContainer),f.delay(200).queue(e=>{f.addClass("in"),e()}),o>0&&f.delay(1e3*o).queue(e=>{f.alert("close"),e()})}}let o;r.duration=5,r.messageContainer=null;try{parent&&parent.window.TYPO3&&parent.window.TYPO3.Notification&&(o=parent.window.TYPO3.Notification),top&&top.TYPO3.Notification&&(o=top.TYPO3.Notification)}catch(e){}return o||(o=r,"undefined"!=typeof TYPO3&&(TYPO3.Notification=o)),o});